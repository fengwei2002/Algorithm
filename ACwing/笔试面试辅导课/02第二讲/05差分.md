[原题链接](https://www.acwing.com/problem/content/799/)  
https://github.com/fengwei2002/algorithm  


## 题目截图

![20211116125526-2021-11-16-12-55-29](https://raw.githubusercontent.com/fengwei2002/Pictures_02/master/images/20211116125526-2021-11-16-12-55-29.png)

输出样例：  

3 4 5 3 4 2


## 思路

主要掌握差分的 insert 函数：

``` cpp
void insert(int l, int r, int c) {
    b[l] += c;
    b[r - 1] -= c;
}
```



## 代码


``` cpp 
#include <iostream>

using namespace std;

const int N = 1e5 + 10;
int n, m;
int a[N], b[N];

void insert(int l, int r, int c) {
    b[l] += c;
    b[r + 1] -= c; 
} // 差分的构造： 已知的 a 是构造的 b 的前缀和

int main() {
    cin >> n >> m;
    for (int i = 1; i <= n; i++) cin >> a[i];
    for (int i = 1; i <= n; i++) insert(i, i, a[i]);

    while (m--) {
        int l, r, c;
        cin >> l >> r >> c;
        insert(l, r, c);
    }

    // 现在就已经构造完成了一个 b 数组，b 数组的前缀和就是结果 a 数组
    for (int i = 1; i <= n; i++) {
        a[i] = a[i - 1] + b[i];
    }

    for (int i = 1; i <= n; i++) {
        cout << a[i] << ' ';
    }

    cout << endl;
    return 0;
}
```
