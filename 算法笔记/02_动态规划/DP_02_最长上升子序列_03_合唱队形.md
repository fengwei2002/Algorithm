![20210820141211-2021-08-20-14-12-12](https://raw.githubusercontent.com/fengwei2002/Pictures_02/master/images/20210820141211-2021-08-20-14-12-12.png)

## DP 分析

折线最长子序列，与登山相同

## 代码


``` cpp 
#include <iostream>
#include <algorithm>

using namespace std;

const int N = 110;
int n;
int h[N], l[N], r[N];

int main() {
    cin >> n;
    for (int i = 0; i < n; i++) cin >> h[i];
    for (int i = 0; i < n; i++) {
        l[i] = 1;
        for (int j = 0; j < i; j++) {
            if (h[i] > h[j]) {
                l[i] = max(l[i], l[j] + 1);
            }
        }
    }
    for (int i = n - 1; i >= 0; i--) {
        r[i] = 1;
        for (int j = n - 1; j > i; j--) {
            if (h[i] > h[j]) {
                r[i] = max(r[i], r[j] + 1);
            }
        }
    }
    int ans = 0;
    for (int i = 0; i < n; i++) ans = max(ans, l[i] + r[i] - 1);
    cout << n - ans << endl;
    return 0;
}
```